# Python Introspection



# dir


```python
dir()
```




    ['In',
     'Out',
     '_',
     '_1',
     '__',
     '___',
     '__builtin__',
     '__builtins__',
     '__doc__',
     '__loader__',
     '__name__',
     '__package__',
     '__spec__',
     '_dh',
     '_i',
     '_i1',
     '_i2',
     '_i3',
     '_ih',
     '_ii',
     '_iii',
     '_oh',
     '_sh',
     'a',
     'exit',
     'get_ipython',
     'quit']




```python
z=3

```


```python
dir()
```




    ['In',
     'Out',
     '_',
     '_1',
     '_3',
     '__',
     '___',
     '__builtin__',
     '__builtins__',
     '__doc__',
     '__loader__',
     '__name__',
     '__package__',
     '__spec__',
     '_dh',
     '_i',
     '_i1',
     '_i2',
     '_i3',
     '_i4',
     '_i5',
     '_ih',
     '_ii',
     '_iii',
     '_oh',
     '_sh',
     'a',
     'exit',
     'get_ipython',
     'quit',
     'z']




```python
dir(z)
```




    ['__abs__',
     '__add__',
     '__and__',
     '__bool__',
     '__ceil__',
     '__class__',
     '__delattr__',
     '__dir__',
     '__divmod__',
     '__doc__',
     '__eq__',
     '__float__',
     '__floor__',
     '__floordiv__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__getnewargs__',
     '__gt__',
     '__hash__',
     '__index__',
     '__init__',
     '__init_subclass__',
     '__int__',
     '__invert__',
     '__le__',
     '__lshift__',
     '__lt__',
     '__mod__',
     '__mul__',
     '__ne__',
     '__neg__',
     '__new__',
     '__or__',
     '__pos__',
     '__pow__',
     '__radd__',
     '__rand__',
     '__rdivmod__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__rfloordiv__',
     '__rlshift__',
     '__rmod__',
     '__rmul__',
     '__ror__',
     '__round__',
     '__rpow__',
     '__rrshift__',
     '__rshift__',
     '__rsub__',
     '__rtruediv__',
     '__rxor__',
     '__setattr__',
     '__sizeof__',
     '__str__',
     '__sub__',
     '__subclasshook__',
     '__truediv__',
     '__trunc__',
     '__xor__',
     'bit_length',
     'conjugate',
     'denominator',
     'from_bytes',
     'imag',
     'numerator',
     'real',
     'to_bytes']




```python
z.__class__
```




    int




```python
# z+4
z.__add__(4)

```




    7




```python
t=(3,3,4)
t.__class__
```




    tuple




```python
l=[0,1,1]
l.__class__
```




    list



* 배열을 뒤집고 싶다면?


```python
dir(l)
```




    ['__add__',
     '__class__',
     '__contains__',
     '__delattr__',
     '__delitem__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__getitem__',
     '__gt__',
     '__hash__',
     '__iadd__',
     '__imul__',
     '__init__',
     '__init_subclass__',
     '__iter__',
     '__le__',
     '__len__',
     '__lt__',
     '__mul__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__reversed__',
     '__rmul__',
     '__setattr__',
     '__setitem__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     'append',
     'clear',
     'copy',
     'count',
     'extend',
     'index',
     'insert',
     'pop',
     'remove',
     'reverse',
     'sort']




```python
print(l)
l.reverse()
print(l)


```

    [0, 1, 1]
    [1, 1, 0]



```python
help(l.reverse)
```

    Help on built-in function reverse:
    
    reverse() method of builtins.list instance
        Reverse *IN PLACE*.
    


### __class__


```python

d={'a':1,'b':2}
d.__class__
```




    dict




```python
dir(d)
```




    ['__class__',
     '__contains__',
     '__delattr__',
     '__delitem__',
     '__dir__',
     '__doc__',
     '__eq__',
     '__format__',
     '__ge__',
     '__getattribute__',
     '__getitem__',
     '__gt__',
     '__hash__',
     '__init__',
     '__init_subclass__',
     '__iter__',
     '__le__',
     '__len__',
     '__lt__',
     '__ne__',
     '__new__',
     '__reduce__',
     '__reduce_ex__',
     '__repr__',
     '__setattr__',
     '__setitem__',
     '__sizeof__',
     '__str__',
     '__subclasshook__',
     'clear',
     'copy',
     'fromkeys',
     'get',
     'items',
     'keys',
     'pop',
     'popitem',
     'setdefault',
     'update',
     'values']




```python

```

# import

## 설치된 페키지 확인

### list로 받기


```python
import sys
packages=sys.modules.keys()
```


```python
list(packages)[:10]
```




    ['sys',
     'builtins',
     '_frozen_importlib',
     '_imp',
     '_frozen_importlib_external',
     '_io',
     'marshal',
     'posix',
     'time',
     'zipimport']



## 버전과 같이 보기


```python
import sys
for module in sys.modules:
    try:
        print(module,sys.modules[module].__version__)
    except:
        try:
            if  type(modules[module].version) is str:
                print(module,sys.modules[module].version)
            else:
                print(module,sys.modules[module].version())
        except:
            try:
                print(module,sys.modules[module].VERSION)
            except:
                pass

```

### pydoc
```
pydoc -n 0.0.0.0 -p 8080
```

### by Code
* 화면 출력


```python
help("modules")
```

    
    Please wait a moment while I gather a list of all available modules...
    
    
    
    Failed to import JAX. pip install jax jaxlib
    
    
    IPython             cgitb               key_test            rwobject_test
    PIL                 chardet             keyword             sched
    __future__          chunk               kiwisolver          scipy
    __main__            cloudpickle         launchpad_py        scrap_tags
    _abc                cmath               lib2to3             scrap_test
    _ast                cmd                 libfuturize         sdlmain_osx
    _asyncio            code                libpasteurize       seaborn
    _bisect             codecs              linecache           secrets
    _blake2             codeop              llvmlite            select
    _bootlocale         collections         locale              selectors
    _bz2                color               locals              send2trash
    _camera_opencv_highgui color_test          logging             setup
    _camera_vidcapture  colordict           lzma                setuptools
    _cffi_backend       colorsys            macosx              shelve
    _codecs             compat              mactypes            shlex
    _codecs_cn          compat_test         mailbox             shutil
    _codecs_hk          compileall          mailcap             signal
    _codecs_iso2022     concurrent          markdown            site
    _codecs_jp          configparser        markupsafe          sitecustomize
    _codecs_kr          constants           marshal             six
    _codecs_tw          constants_test      mask                sklearn
    _collections        contextlib          mask_test           sklearn_pandas
    _collections_abc    contextvars         math                smtpd
    _compat_pickle      copy                math_test           smtplib
    _compression        copyreg             matplotlib          sndarray
    _contextvars        crypt               midi                sndarray_tags
    _crypt              csv                 midi_tags           sndarray_test
    _csv                ctypes              midi_test           sndhdr
    _ctypes             curses              mido                sniffio
    _ctypes_test        cursors             mimetypes           socket
    _curses             cursors_test        mistune             socketserver
    _curses_panel       cv2                 mixer               sprite
    _datetime           cycler              mixer_music         sprite_test
    _dbm                cythonmagic         mixer_music_tags    sqlite3
    _decimal            dataclasses         mixer_music_test    sre_compile
    _distutils_hack     datetime            mixer_tags          sre_constants
    _dummy_thread       dateutil            mixer_test          sre_parse
    _dummybackend       dbm                 mizani              ssl
    _elementtree        decimal             mmap                stat
    _freetype           decorator           modulefinder        statistics
    _functools          defusedxml          mouse               statsmodels
    _gdbm               descartes           mouse_test          storemagic
    _hashlib            difflib             mpmath              string
    _heapq              dill                multiprocessing     stringprep
    _imp                dis                 nbclassic           struct
    _io                 display             nbclient            subprocess
    _json               display_test        nbconvert           sunau
    _locale             distutils           nbformat            surface
    _lsprof             docs                nbopen              surface_test
    _lzma               doctest             nest_asyncio        surfarray
    _markupbase         draw                netrc               surfarray_tags
    _md5                draw_py             newbuffer           surfarray_test
    _multibytecodec     draw_test           nis                 surflock
    _multiprocessing    dummy_threading     nntplib             surflock_test
    _numpysndarray      easy_install        notebook            symbol
    _numpysurfarray     email               np_utils            sympyprinting
    _opcode             encodings           ntpath              symtable
    _operator           ensurepip           nturl2path          sys
    _osx_support        entrypoints         numba               sysconfig
    _pickle             enum                numbers             sysfont
    _plotly_future_     errno               numexpr             sysfont_test
    _plotly_utils       et_xmlfile          numpy               syslog
    _posixshmem         event               oauthlib            tabnanny
    _posixsubprocess    event_test          opcode              tarfile
    _py_abc             examples            openpyxl            telnetlib
    _pydecimal          fastevent           operator            tempfile
    _pyio               fastevent_tags      opt_einsum          tensorboard
    _pyrsistent_version fastevent_test      optparse            tensorboard_plugin_wit
    _queue              faulthandler        os                  tensorboardcolab
    _random             fcntl               osax                tensorflow
    _scproxy            filecmp             overlay             tensorflow_addons
    _sha1               fileinput           overlay_tags        tensorflow_datasets
    _sha256             flatbuffers         overlay_test        tensorflow_estimator
    _sha3               fnmatch             packaging           tensorflow_gcs_config
    _sha512             font                palettable          tensorflow_hub
    _signal             font_tags           pandas              tensorflow_metadata
    _sitebuiltins       font_test           pandocfilters       tensorflow_privacy
    _socket             formatter           parser              tensorflow_probability
    _sqlite3            fractions           parso               termcolor
    _sre                freetype            past                terminado
    _ssl                freetype_tags       pasta               termios
    _stat               freetype_test       pathlib             test
    _statistics         ftfont              patsy               test_test_
    _string             ftfont_tags         pdb                 test_utils
    _strptime           ftfont_test         pexpect             testpath
    _struct             ftplib              pickle              tests
    _symtable           functools           pickleshare         textwrap
    _sysconfigdata__darwin_darwin future              pickletools         this
    _testbuffer         gast                pip                 threading
    _testcapi           gc                  pipes               threadpoolctl
    _testimportmultiple genericpath         pixelarray          threads
    _testinternalcapi   getopt              pixelarray_test     threads_test
    _testmultiphase     getpass             pixelcopy           time
    _thread             gettext             pixelcopy_test      time_test
    _threading_local    gfxdraw             pkg_resources       timeit
    _tkinter            gfxdraw_test        pkgdata             tkinter
    _tracemalloc        glob                pkgutil             token
    _uuid               google_auth_oauthlib platform            tokenize
    _warnings           grp                 plistlib            tornado
    _weakref            grpc                plotly              touch_tags
    _weakrefset         gzip                plotlywidget        touch_test
    _xxsubinterpreters  h5py                plotnine            tqdm
    _xxtestfuzz         hashlib             poplib              trace
    abc                 heapq               posix               traceback
    absl                hmac                posixpath           tracemalloc
    aem                 html                pprint              traitlets
    aifc                http                profile             transform
    antigravity         idlelib             prometheus_client   transform_test
    anyio               idna                promise             tree
    appnope             image               prompt_toolkit      tty
    appscript           image__save_gl_surface_test pstats              turtle
    argon2              image_tags          pty                 turtledemo
    argparse            image_test          ptyprocess          typeguard
    array               imageext            pwd                 types
    ast                 imageext_tags       py_compile          typing
    astunparse          imageext_test       pyasn1              typing_extensions
    async_generator     imaplib             pyasn1_modules      unicodedata
    asynchat            imghdr              pyclbr              unittest
    asyncio             imp                 pycparser           urllib
    asyncore            importlib           pydoc               urllib3
    atexit              importlib_resources pydoc_data          uu
    attr                inspect             pyexpat             uuid
    audioop             io                  pygame              venv
    autoreload          ipaddress           pygments            version
    babel               ipykernel           pylab               version_test
    backcall            ipykernel_launcher  pyparsing           warnings
    base                ipython_genutils    pypm                wave
    base64              ipywidgets          pyrsistent          wcwidth
    base_test           itertools           pytz                weakref
    bdb                 jedi                qtconsole           webbrowser
    binascii            jinja2              qtpy                webencodings
    binhex              joblib              queue               werkzeug
    bisect              joystick            quopri              wheel
    bleach              joystick_test       random              widgetsnbextension
    blit_test           json                re                  wrapt
    bufferproxy         json5               readline            wsgiref
    bufferproxy_test    jsonschema          rect                xdrlib
    builtins            jupyter             rect_test           xlrd
    bz2                 jupyter_client      reprlib             xml
    cProfile            jupyter_console     requests            xmlrpc
    cachetools          jupyter_contrib_core requests_oauthlib   xxlimited
    calendar            jupyter_core        resource            xxsubtype
    camera              jupyter_nbextensions_configurator retrying            yaml
    camera_test         jupyter_server      rlcompleter         zipapp
    cdrom               jupyterlab          rmagic              zipfile
    cdrom_tags          jupyterlab_pygments rsa                 zipimport
    cdrom_test          jupyterlab_server   rtmidi              zlib
    certifi             jupyterlab_widgets  run_tests__tests    zmq
    cffi                keras_preprocessing runpy               
    cgi                 key                 rwobject            
    
    Enter any module name to get more help.  Or, type "modules spam" to search
    for modules whose name or summary contain the string "spam".
    


## 찾기

### 단순 찾기


```python
import re
print('\n'.join(list(filter(re.compile('^[^ _]').match,dir(re)) )))

```

    A
    ASCII
    DEBUG
    DOTALL
    I
    IGNORECASE
    L
    LOCALE
    M
    MULTILINE
    Match
    Pattern
    RegexFlag
    S
    Scanner
    T
    TEMPLATE
    U
    UNICODE
    VERBOSE
    X
    compile
    copyreg
    enum
    error
    escape
    findall
    finditer
    fullmatch
    functools
    match
    purge
    search
    split
    sre_compile
    sre_parse
    sub
    subn
    template


### 속성 찾기


```python
import math as m
__m=m;print('\n'.join([_m for _m in dir(__m) if not callable(getattr(__m,_m))]))
```

    __doc__
    __file__
    __loader__
    __name__
    __package__
    __spec__
    e
    inf
    nan
    pi
    tau


### 함수 찾기


```python
__m=m;print('\n'.join([_m for _m in dir(__m) if callable(getattr(__m,_m))]))
```

    acos
    acosh
    asin
    asinh
    atan
    atan2
    atanh
    ceil
    comb
    copysign
    cos
    cosh
    degrees
    dist
    erf
    erfc
    exp
    expm1
    fabs
    factorial
    floor
    fmod
    frexp
    fsum
    gamma
    gcd
    hypot
    isclose
    isfinite
    isinf
    isnan
    isqrt
    ldexp
    lgamma
    log
    log10
    log1p
    log2
    modf
    perm
    pow
    prod
    radians
    remainder
    sin
    sinh
    sqrt
    tan
    tanh
    trunc


### 모듈 찾기


```python
import inspect;_n="m";print('\n'.join([_m for _m in dir(eval(_n)) if inspect.ismodule(eval("%s.%s"%(_n,_m) ))  ] ))
```

    


### 호출 가능한지 보기.


```python
callable(getattr(m,"sin"))
```




    True



### 객체 내용 보기.


```python
import inspect;_n="m";__n=eval(_n);print("\n code     = %s \n name or value = %s \n type= %s \n isCallable = %s\n"% (_n,__n,__n.__name__ if inspect.ismodule(__n) else __n.__class__, callable(__n)))
```

    
     code     = m 
     name or value = <module 'math' from '/usr/local/Cellar/python@3.8/3.8.9/Frameworks/Python.framework/Versions/3.8/lib/python3.8/lib-dynload/math.cpython-38-darwin.so'> 
     type= math 
     isCallable = False
    


## pandas버전 Example


```python
import pandas as pd

print('\n'.join(dir(pd)))
```


```python
print('\n'.join([s for s in dir(pd) if s.find('concat') >= 0 ]))
```

    concat



```python
print('\n'.join([m for m in dir(pd) if callable(getattr(pd,m))]))
```

    BooleanDtype
    Categorical
    CategoricalDtype
    CategoricalIndex
    DataFrame
    DateOffset
    DatetimeIndex
    DatetimeTZDtype
    ExcelFile
    ExcelWriter
    Flags
    Float32Dtype
    Float64Dtype
    Float64Index
    Grouper
    HDFStore
    Index
    Int16Dtype
    Int32Dtype
    Int64Dtype
    Int64Index
    Int8Dtype
    Interval
    IntervalDtype
    IntervalIndex
    MultiIndex
    NamedAgg
    Period
    PeriodDtype
    PeriodIndex
    RangeIndex
    Series
    SparseDtype
    StringDtype
    Timedelta
    TimedeltaIndex
    Timestamp
    UInt16Dtype
    UInt32Dtype
    UInt64Dtype
    UInt64Index
    UInt8Dtype
    __getattr__
    array
    bdate_range
    concat
    crosstab
    cut
    date_range
    describe_option
    eval
    factorize
    get_dummies
    get_option
    infer_freq
    interval_range
    isna
    isnull
    json_normalize
    lreshape
    melt
    merge
    merge_asof
    merge_ordered
    notna
    notnull
    option_context
    period_range
    pivot
    pivot_table
    qcut
    read_clipboard
    read_csv
    read_excel
    read_feather
    read_fwf
    read_gbq
    read_hdf
    read_html
    read_json
    read_orc
    read_parquet
    read_pickle
    read_sas
    read_spss
    read_sql
    read_sql_query
    read_sql_table
    read_stata
    read_table
    reset_option
    set_eng_float_format
    set_option
    show_versions
    test
    timedelta_range
    to_datetime
    to_numeric
    to_pickle
    to_timedelta
    unique
    value_counts
    wide_to_long



```python
print('\n'.join([m for m in dir(pd) if not callable(getattr(data,m))]))
```


```python
print('\n'.join([s for s in dir(pd) if s.upper().find('data'.upper()) >= 0 ]))
```

    BooleanDtype
    Categorical
    CategoricalDtype
    CategoricalIndex
    DataFrame
    DateOffset
    DatetimeIndex
    DatetimeTZDtype
    ExcelFile
    ExcelWriter
    Flags
    Float32Dtype
    Float64Dtype
    Float64Index
    Grouper
    HDFStore
    Index
    IndexSlice
    Int16Dtype
    Int32Dtype
    Int64Dtype
    Int64Index
    Int8Dtype
    Interval
    IntervalDtype
    IntervalIndex
    MultiIndex
    NA
    NaT
    NamedAgg
    Period
    PeriodDtype
    PeriodIndex
    RangeIndex
    Series
    SparseDtype
    StringDtype
    Timedelta
    TimedeltaIndex
    Timestamp
    UInt16Dtype
    UInt32Dtype
    UInt64Dtype
    UInt64Index
    UInt8Dtype
    __builtins__
    __cached__
    __doc__
    __docformat__
    __file__
    __getattr__
    __git_version__
    __loader__
    __name__
    __package__
    __path__
    __spec__
    __version__
    _config
    _hashtable
    _is_numpy_dev
    _lib
    _libs
    _np_version_under1p17
    _np_version_under1p18
    _testing
    _tslib
    _typing
    _version
    api
    array
    arrays
    bdate_range
    compat
    concat
    core
    crosstab
    cut
    date_range
    describe_option
    errors
    eval
    factorize
    get_dummies
    get_option
    infer_freq
    interval_range
    io
    isna
    isnull
    json_normalize
    lreshape
    melt
    merge
    merge_asof
    merge_ordered
    notna
    notnull
    offsets
    option_context
    options
    pandas
    period_range
    pivot
    pivot_table
    plotting
    qcut
    read_clipboard
    read_csv
    read_excel
    read_feather
    read_fwf
    read_gbq
    read_hdf
    read_html
    read_json
    read_orc
    read_parquet
    read_pickle
    read_sas
    read_spss
    read_sql
    read_sql_query
    read_sql_table
    read_stata
    read_table
    reset_option
    set_eng_float_format
    set_option
    show_versions
    test
    testing
    tests
    timedelta_range
    to_datetime
    to_numeric
    to_pickle
    to_timedelta
    tseries
    unique
    util
    value_counts
    wide_to_long
    



    -------------------------

    NameErrorTraceback (most recent call last)

    <ipython-input-35-45a9382dc0a2> in <module>
          4 print('\n'.join(dir(pd)))
          5 print('\n'.join([s for s in dir(pd) if s.find('data') >= 0 ]))
    ----> 6 print('\n'.join([m for m in dir(pd) if callable(getattr(data,m))]))
          7 print('\n'.join([m for m in dir(pd) if not callable(getattr(data,m))]))
          8 print('\n'.join([s for s in dir(pd) if s.upper().find('data'.upper()) >= 0 ]))


    <ipython-input-35-45a9382dc0a2> in <listcomp>(.0)
          4 print('\n'.join(dir(pd)))
          5 print('\n'.join([s for s in dir(pd) if s.find('data') >= 0 ]))
    ----> 6 print('\n'.join([m for m in dir(pd) if callable(getattr(data,m))]))
          7 print('\n'.join([m for m in dir(pd) if not callable(getattr(data,m))]))
          8 print('\n'.join([s for s in dir(pd) if s.upper().find('data'.upper()) >= 0 ]))


    NameError: name 'data' is not defined


## import 3가지 Type


```python
import math
import math as m
from math import sin

```

* import 응용


```python
import math, os
from math import sin,cos
from math import tan as tn
tn(0),sin(0)
```




    (0.0, 0.0)



# Help


```python
help(help)
```

    Help on _Helper in module _sitebuiltins object:
    
    class _Helper(builtins.object)
     |  Define the builtin 'help'.
     |  
     |  This is a wrapper around pydoc.help that provides a helpful message
     |  when 'help' is typed at the Python interactive prompt.
     |  
     |  Calling help() at the Python prompt starts an interactive help session.
     |  Calling help(thing) prints help for the python object 'thing'.
     |  
     |  Methods defined here:
     |  
     |  __call__(self, *args, **kwds)
     |      Call self as a function.
     |  
     |  __repr__(self)
     |      Return repr(self).
     |  
     |  ----------------------------------------------------------------------
     |  Data descriptors defined here:
     |  
     |  __dict__
     |      dictionary for instance variables (if defined)
     |  
     |  __weakref__
     |      list of weak references to the object (if defined)
    


* only for jupyter and colab


```python
?help           
```

    Object `help           # only for jupyter and colab` not found.

